Please analyse the legacy source code in project knowledge. The Trellis app has to be updated to modern standards. First create a comprehensive description of the existing function and architecture. Then think deeply about how to update it following best practices, make it very modular. Please replace jquery and jquery UI components with vanilla modern ES. For text editing use markdown syntax, with the help of the marked library. Review your code to make sure it will work. Then render all the new source code as individual, complete source code artifacts.
