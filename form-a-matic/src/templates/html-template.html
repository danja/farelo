<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <header>
        <h1>Form</h1>
    </header>
    <main>
        <!-- Your form content will go here -->
    </main>
    <footer>
        <p>2024</p>
    </footer>

    <!-- template html body below content -->
    <script src="webpack/main.bundle.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            console.log('DOM fully loaded');
            console.log('window.FormAMatic:', window.FormAMatic);
            if (typeof window.FormAMatic !== 'undefined' && typeof window.FormAMatic.extract === 'function') {
                console.log('FormAMatic loaded successfully');
                window.extract = window.FormAMatic.extract;
            } else {
                console.error('FormAMatic not loaded correctly');
            }

            const button = document.getElementById('submitButton');
            const outputElement = document.getElementById('output');

            function extractRDF() {
                try {

                    outputElement.value = window.extract(document)


                    /*
                    const output = await window.extract(document);
                    outputElement.value = output;
                    */
                } catch (error) {
                    console.error('Error during extraction:', error);
                    outputElement.value = 'An error occurred: ' + error.message;
                }
            }

            button.addEventListener('click', extractRDF);

        });
    </script>

</body>

</html>